## Групповые упоминания

![clip.png](https://s3.amazonaws.com/kato-share/eccad637cc6e36c539b3bfa4bad3f9295f09adebb58011f05fffbd8c4b3a888a/clip.png)

## Вкратце о групповых упоминаниях
Если пользователь следит за обновлениями в комнате под названием **Development**, и кто-то упоминает **@Development** в любой другой комнате (или в самой комнате Development), сервис сообщbn об этом (в виде десктоп- и push-уведомления, а также email-дайджеста).

Если пользователю нужно привлечь внимание дизайнера, и он знает, что дизайнеры общаются в комнате **Design**, то чтобы дать им знать о себе, ему просто нужно упомянуть эту комнату @Design.

Сложность тут состоит в том, что не все дизайнеры могут захотеть следить за обновлениями в комнате Design, а просматривать уведомления по каждому сообщению из этой комнаты им может быть неудобно. Так как же дизайнерам общаться в комнате Design или нескольких комнатах (для отдельного проекта/платформы/и т.д.) и при этом получать групповые уведомления? Решение состоит в том, чтобы создать другую комнату, скажем, комнату **Designers**, которая не будет использоваться для публикации туда сообщений. Все дизайнеры просто договорятся следить за обновлениями в этой комнате, так, чтобы по появлению сообщения с упоминанием **@Designers** вся целевая аудитория сообщения узнала о нем. 

При этом необходимо учитывать, что оповещение придет не в комнату **Designers**, а в ту комнату, где было опубликовано сообщение.

В этом и состоит прелесть модели отслеживания обновлений: пользователь может самостоятельно выбрать, что он хочет отслеживат, и получайть уведомления в любой комнате, где была упомянута заданная тема, даже если пользователь обычно игнорирует сообщения из этой комнаты.

## Подробнее о групповых упоминаниях
#### Модель «Присоединиться к группе/Покинуть группу»
Один из наиболее сложных аспектов разработки мессенджеров для командной работы связан с вопросами борьбы с информационным шумом. Цель состоит в том, чтобы предоставить пользователю информацию (а) в нужное время (б) с минимальным для него напряжением.

Чтобы обеспечить эти требования, большинство мессенджеров для командной работы в реальном времени используют то, что мы называем моделью «Присоединиться к группе/Покинуть группу», которая берет метафору входа и выхода из чата за основу контроля над шумом. В этой модели часто можно увидеть сообщения вроде:

_Петя зашел на Кухню_
_Оля покинула кухни_

После того, как Оля покинет Кухню (то есть комнату), она перестанет получать информацию о том, что там происходит.

Поэтому в теории все те, кто присоединился к комнате, представляют собой группу людей, которым важна некоторая тема. Благодаря этому появляется возможность оповестить о чем-то важном всю группу целиком – это называется «групповое упоминание».

Упоминание – общепринятая и важная практика совместной работы. Скажем, если кому-то нужно узнать мнение Оли по поводу чего-то в комнате «Кухня», то этот кто-то может написать «@Оля, обрати внимание», и она получит оповещение (звуковое или десктоп-уведомление, письмо на электронную почту или push-уведомление на мобильном устройстве).

Но что произойдет, если Оля не будет на Кухне, потому что она покинула эту Комнату? Во-первых, ее придется пригласить обратно, и только после этого станет возможно использование упоминаний.

А как сделать оповещение на всю команду или на всю компанию? В таком случае придется создать комнату, которую никто не сможет покидать. Как  упомянуть всю группу целиком, если в комнате, где это нужно сделать, нет кого-то из группы? Непонятно!

#### Модель отслеживания обновлений
После экспериментов с моделью «Присоединиться к группе/Покинуть группу» в ранних версиях Kato мы решили попробовать абстрагироваться от этой дилеммы и создать формат управления шумом, не связанный с необходимостью присоединяться к комнатам (Исключение: [приватные комнаты](https://kato.im/articles/room-types/)). 

Все члены команды в Kato имеют доступ ко всем комнатам с неограниченным доступом. Шум контролируется механизмом, который мы в итоге назвали «Модель отслеживания обновлений»: он обеспечивает возможность легко размечать rомнаты как «важные», «не очень важные» и «неважные». Похоже на модель подписки в Twitter. Отличие от модели «Присоединиться к группе/Покинуть группу» состоит в том, что если кто-то оставит Оле упоминание (@Оля) в комнате, которую она игнорирует, она все равно получит оповещение о сообщении.

